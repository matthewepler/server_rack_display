var express = require('express'),
	io = require('socket.io'),
	app = express();
	server = app.listen(3000);
	socketServer = io(server);

app.use(express.static('./'));


app.get('/', function(req, res) {
	res.sendFile('/index.html');	
});

socketServer.on('connection', function(socket) {

	console.log('new connection @: ' + socket.handshake.address);
	socket.emit('connected', "server sez: hello!");
	
	socket.on('disconnect', function() {
		console.log('disconnected');
		socket.emit('disconnected', "server sez: goodbye!");
	});

	socket.on('update', function(data) {
		console.log('server sez: update!');
		socket.emit('render', data);
	});
});


